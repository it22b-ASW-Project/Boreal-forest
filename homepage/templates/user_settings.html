<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Settings</title>
    <link rel="stylesheet" href="{% static 'css/settings.css' %}">
</head>

<body>
    <div class="main-content">
        <h1>User Settings</h1>
        <div class="profile-section">
            <div class="profile-photo">
                {% if profile.avatar %}
                <img src="{{ profile.avatar.url }}" alt="Profile Photo">
                {% else %}
                <img src="{% static 'img/default-profile.png' %}" alt="Profile Photo">
                {% endif %}

                <form method="post" enctype="multipart/form-data" id="avatar-form">
                    {% csrf_token %}
                    <input type="file" name="avatar" id="avatar-input" style="display: none;" accept="image/*">
                    <button type="button" onclick="document.getElementById('avatar-input').click()">CHANGE
                        PHOTO</button>
                </form>

                {% if profile.avatar %}
                <form method="post">
                    {% csrf_token %}
                    <button type="submit" name="delete_avatar" class="text-button">Use default image</button>
                </form>
                {% endif %}
            </div>

            <form method="post">
                {% csrf_token %}
                <label for="username">Username</label>
                <input type="text" id="username" value="{{ username }}">

                <label for="email">Email</label>
                <input type="email" id="email" value="{{ email }}">

                <label for="full-name">Full name</label>
                <input type="text" id="full-name" value="{{ full_name }}">

                <label for="language">Language</label>
                <select id="language">
                    <option>English (US)</option>
                    <option>Espa√±ol</option>
                </select>

                <label for="theme">Theme</label>
                <select id="theme">
                    <option>taiga</option>
                    <option>dark</option>
                    <option>light</option>
                </select>

                <label for="bio">Bio (max. 210 chars)</label>
                <textarea id="bio" maxlength="210"></textarea>

                <button type="submit" class="save-button">SAVE</button>
            </form>
        </div>
    </div>
    <script>
        document.getElementById('avatar-input').addEventListener('change', function () {
            if (this.files.length > 0) {
                document.getElementById('avatar-form').submit();
            }
        });
    </script>
</body>

</html>